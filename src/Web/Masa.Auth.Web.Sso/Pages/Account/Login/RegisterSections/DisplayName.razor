@inherits SsoSectionComponentBase

<MTextField Style="width:200px;" @bind-Value="@Value.DisplayName" Placeholder="@T("NickNamePlaceHolder")"
            Class="mx-auto mb-4" Rules="_displayNameRules">
</MTextField>

@code {
    [Parameter]
    public RegisterInputModel Value { get; set; } = new();

    [Parameter]
    public EventCallback<RegisterInputModel> ValueChanged { get; set; }

    [Parameter]
    public bool Required { get; set; }

    private IList<Func<string, StringBoolean>> _displayNameRules => new List<Func<string, StringBoolean>>();

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender && Required)
        {
            _displayNameRules.Add(value => !string.IsNullOrEmpty(value) ? true : "Required.");
        }
        base.OnAfterRender(firstRender);
    }
}
