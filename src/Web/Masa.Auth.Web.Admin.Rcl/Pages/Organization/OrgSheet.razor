@inherits AdminCompontentBase

<SSheetDialog @bind-Value=_visible Title="@T("Add Department")">
    <MCard Class="mx-auto d-flex flex-column full-height" Style="padding-right:228px;padding-left:228px;">
        <MCardText Class="d-flex align-center full-height">
            <MForm Model="_dto" EnableValidation Class="full-width" @ref="_form">
                <PlaceholderTextFiled @bind-Value="@_dto.Name" style="width:323px;" Placeholder="@T("Enter department name")" />
                @if (_dto.ParentId != Guid.Empty)
                {
                    <MCascader Items="Departments" Dense class="mt-6" @bind-Value="@_dto.ParentId"
                           ItemText="u => u.Name" ChangeOnSelect Label="@T("Department Location")"
                           ItemValue="u => u.Id"
                           ItemChildren="u => u.Children">
                    </MCascader>
                }
                <MTextarea @bind-Value="@_dto.Description" class="mt-6" Label="@T("Description")" Outlined Height="120" NoResize />
            </MForm>
        </MCardText>
        <MCardActions class="d-flex align-center mb-10 px-6">
            <EnableSwitch @bind-Value="_dto.Enabled" />
            <MSpacer />
            @if (_dto.Id != Guid.Empty)
            {
                <MButton Text Color="error" MinWidth="100" OnClick="OnDeleteHandler">
                    @T("Delete")
                </MButton>
            }
            <SButton Medium Disabled="@string.IsNullOrEmpty(_dto.Name.Trim())" OnClick="OnSubmitHandler">@T("Submit")</SButton>
        </MCardActions>
    </MCard>
</SSheetDialog>
