@inherits AdminCompontentBase

<SheetDialog Value=Show Title="@T("Add Department")" ValueChanged="ShowChanged">
    <MCard Class="mx-auto d-flex flex-column full-height" Style="padding-right:228px;padding-left:228px;">
        <MCardText Class="d-flex align-center">
            <MForm Model="Dto" EnableValidation Class="full-width" @ref="_form">
                <MTextField @bind-Value="@Dto.Name" class="mx-auto text-h5 neutral-lighten-4--text" HideDetails="@("auto")" style="width:323px;" Placeholder="@T("Enter department name")"></MTextField>
                @if (Dto.ParentId != Guid.Empty)
                {
                    <MCascader Items="Departments" Dense class="mt-6" @bind-Value="@Dto.ParentId"
                           ItemText="u => u.Name"
                           ItemValue="u => u.Id"
                           ItemChildren="u => u.Children">
                    </MCascader>
                }
                <MTextarea @bind-Value="@Dto.Description" class="mt-6" Label="@T("Description")" Outlined Height="120" NoResize>
                </MTextarea>
            </MForm>
        </MCardText>
        <MCardActions class="d-flex align-center mb-10 px-6">
            <MSwitch @bind-Value="Dto.Enabled" class="mt-0" Inset Label="@T("Enable")"></MSwitch>
            <MSpacer />
            @if (Dto.Id != Guid.Empty)
            {
                <MButton Text Color="error" MinWidth="100" OnClick="OnDeleteHandler">
                    @T("Delete")
                </MButton>
            }
            <MButton class="rounded-pill primary" MinWidth="100" Disabled="@string.IsNullOrEmpty(Dto.Name.Trim())" OnClick="OnSubmitHandler">@T("Submit")</MButton>
        </MCardActions>
    </MCard>
</SheetDialog>
