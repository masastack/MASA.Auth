@inherits AdminCompontentBase
@page "/team/index"

<PageTitle>@T("Team")</PageTitle>

<MCard>
    <MCardTitle class="mx-2 py-6">
        <MTextField @bind-Value="_search" Outlined Dense Placeholder="@T("Search")" OnKeyDown="SearchKeyDown"
                    HideDetails=true Style="max-width:340px;" PrependInnerIcon="mdi-magnify">
        </MTextField>
    </MCardTitle>
    <MCardText>
        <MRow>
            @foreach (var team in _teams)
            {
                <MCol Md="4">
                    <TeamCard Team=team OnEditClick="()=>EditTeamHandler(team.Id)" />
                </MCol>
            }
            <MCol Md="4">
                <MCard Outlined class="d-flex justify-center align-center" Style="border-style: dashed;" Height="230">
                    <MButton OnClick="()=> _showAdd = true" Ripple=false Plain><MIcon Left>mdi-plus</MIcon>@T("Create Team")</MButton>
                </MCard>
            </MCol>
        </MRow>
    </MCardText>
</MCard>

<AddSheet @bind-Show=_showAdd OnSubmit="OnCreate"/>
<UpdateSheet @bind-Show=_showEdit Dto=_editTeamDto OnUpdateBase="OnUpdateBaseInfo" 
    OnUpdateAdmin="OnUpdateAdminPersonnel" OnUpdateMember="OnUpdateMemberPersonnel" OnDelete="OnDelete"/>